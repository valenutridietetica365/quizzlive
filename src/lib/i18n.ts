export type Language = 'es' | 'en';

export const translations = {
    es: {
        common: {
            loading: "Cargando...",
            error: "Ocurrió un error",
            save: "Guardar",
            cancel: "Cancelar",
            delete: "Eliminar",
            back: "Volver",
            next: "Siguiente",
            finish: "Finalizar",
            points: "puntos",
            students: "alumnos",
            questions: "preguntas",
            logout: "Salir"
        },
        dashboard: {
            title: "Mis Quizzes",
            subtitle: "Panel de control para gestionar tus actividades.",
            create_new: "Crear Nuevo Quiz",
            no_quizzes: "Aún no tienes quizzes. ¡Crea el primero!",
            last_edited: "Última edición:",
            play: "Jugar",
            present: "PRESENTAR",
            edit: "Editar",
            delete_confirm: "¿Eliminar cuestionario?",
            delete_confirm_desc: "Esta acción no se puede deshacer. Se eliminarán todas las preguntas y el historial asociado.",
            empty_title: "Crea tu primer desafío",
            empty_subtitle: "Diseña preguntas interactivas y compártelas en segundos.",
            empty_button: "Crear ahora",
            history_empty_title: "Sin huellas aún",
            history_empty_subtitle: "Tus sesiones finalizadas aparecerán aquí con todos sus detalles.",
            table_quiz: "Cuestionario",
            table_date: "Fecha",
            table_pin: "PIN de Acceso",
            table_results: "Resultados",
            history_title: "Historial de Sesiones",
            quizzes_subtitle: "Gestiona tus contenidos y comienza nuevas sesiones.",
            history_subtitle: "Revisa el desempeño de tus alumnos en sesiones pasadas.",
            new_quiz: "NUEVO QUIZ",
            report_button: "INFORME",
            error_launching: "Error al iniciar la sesión",
            stats_title: "Vista General",
            total_quizzes: "Quizzes Totales",
            total_sessions: "Sesiones Totales",
            avg_participation: "Participación Promedio",
            all_tags: "Todos"
        },
        sidebar: {
            my_quizzes: "Mis Quizzes",
            history: "Historial",
            user: "Usuario",
            logout: "Cerrar Sesión"
        },
        join: {
            title: "Unirse al Juego",
            pin_placeholder: "PIN del juego",
            nickname_placeholder: "Tu apodo",
            button: "Entrar",
            invalid_pin: "PIN inválido"
        },
        play: {
            waiting_title: "¡Adentro!",
            waiting_subtitle: "Prepárate. Esto va a empezar pronto.",
            waiting_teacher: "Esperando al profesor...",
            question: "Pregunta",
            correct: "¡Correcto!",
            incorrect: "Incorrecto",
            time_up: "¡Tiempo agotado!",
            total_score: "Puntuación Total",
            rank: "Posición",
            yes: "¡SÍÍÍ!",
            almost: "¡CASI!",
            points_earned: "Puntos",
            next_adventure: "A por la próxima",
            next_question_coming: "Siguiente pregunta en camino...",
            streak_fire: "RESPUESTAS SEGUIDAS",
            incredible: "¡Increíble!",
            finished_subtitle: "Has completado el desafío con éxito. Aquí tienes tu resultado:",
            go_home: "IR AL INICIO",
            thanks: "Gracias por jugar QuizzLive",
            loading_question: "Cargando pregunta...",
            submit_answer: "ENVIAR RESPUESTA",
            verify_pairs: "VERIFICAR PAREJAS",
            reset_pairs: "Reiniciar parejas",
            concepts: "Conceptos",
            pairs: "Parejas",
            time_left: "Tiempo restante"
        },
        analytics: {
            avg_success: "Promedio de Acierto",
            participation: "Participantes",
            best_question: "Mejor Pregunta",
            success_by_question: "Éxito por Pregunta"
        },
        session: {
            title: "Sesión en Vivo",
            participants: "ALUMNOS",
            waiting_message: "Esperando a los jugadores...",
            start_button: "Empezar Quiz",
            next_button: "Siguiente Pregunta",
            finish_button: "Finalizar Sesión",
            it_is_time: "¡Es hora de",
            to_play: "jugar!",
            share_desc: "Comparte el código con tus alumnos o escanea el QR para entrar al instante.",
            access_code: "Código de Acceso",
            start_action: "EMPEZAR",
            join_now: "Únete ahora",
            question_of: "Pregunta",
            next_action: "SIGUIENTE",
            mission_accomplished: "¡Misión",
            accomplished: "Cumplida!",
            finished_desc: "Has completado el quiz satisfactoriamente. Todos los datos han sido guardados en el historial.",
            view_detailed_analytics: "Ver Analíticas",
            view_results: "VER RESULTADOS",
            go_back: "VOLVER",
            expected_answer: "RESPUESTA ESPERADA",
            waiting_participants: "Esperando participantes...",
            responses: "Respuestas",
            refresh_participants: "Refrescar participantes",
            share_session: "Compartir sesión",
            leave_session: "Abandonar sesión",
            time_remaining: "Tiempo restante"
        },
        landing: {
            features: "Características",
            how_it_works: "Cómo funciona",
            teacher_panel: "Panel Profesor",
            hero_badge: "La educación del futuro es hoy",
            hero_title_1: "Aprende. Juega.",
            hero_title_2: "Interactúa en vivo.",
            hero_subtitle: "Potencia tu aula con una plataforma de quizzes en tiempo real diseñada para inspirar curiosidad y competencia sana. Sin instalaciones, acceso instantáneo.",
            student_button: "SOY ESTUDIANTE",
            teacher_button: "SOY PROFESOR",
            feature_1_title: "Tiempo Real Real",
            feature_1_desc: "Sincronización instantánea entre profesor y alumnos sin latencia.",
            feature_2_title: "100% Seguro",
            feature_2_desc: "Acceso protegido para profesores y anonimato para estudiantes mediante nicknames.",
            feature_3_title: "Editor Universal",
            feature_3_desc: "Crea preguntas con imágenes, múltiples opciones o verdadero/falso en segundos.",
            footer_rights: "© 2026 QuizzLive. Todos los derechos reservados.",
            privacy: "Privacidad",
            terms: "Términos"
        },
        editor: {
            title: "Editor de Cuestionario",
            quiz_title_placeholder: "Título del Quiz...",
            publish_button: "PUBLICAR QUIZ",
            save_button: "GUARDAR CAMBIOS",
            add_question: "AÑADIR PREGUNTA",
            question_label: "Pregunta",
            question_placeholder: "Escribe aquí...",
            image_url_placeholder: "URL Imagen (Opcional)",
            options_tab: "OPCIONES",
            tf_tab: "V/F",
            sentence_tab: "ORACIÓN",
            matching_tab: "PAREAR",
            correct_answer_placeholder: "Respuesta correcta...",
            term_placeholder: "Término",
            match_placeholder: "Pareja",
            add_pair: "AÑADIR PAR",
            time_limit: "TIEMPO LÍMITE",
            auto_save: "Auto guardado",
            true_text: "Verdadero",
            false_text: "Falso",
            error_title: "El cuestionario necesita un título",
            error_no_text: "La pregunta {num} no tiene texto",
            error_no_correct: "La pregunta {num} no tiene una respuesta correcta marcada",
            error_mismatch: "La respuesta correcta de la pregunta {num} no coincide con ninguna opción",
            save_success: "¡Quiz guardado con éxito!",
            login_required: "Debes iniciar sesión para guardar",
            import_button: "IMPORTAR",
            import_title: "Importación Inteligente",
            import_desc: "Sube un archivo Excel o CSV para añadir preguntas masivamente.",
            import_select_file: "Seleccionar Archivo",
            import_template: "Descargar Plantilla",
            import_success: "¡{count} preguntas importadas con éxito!",
            import_error: "Hubo errores al procesar el archivo"
        },
        reports: {
            title: "Informe de Sesión",
            avg_score: "Puntaje Promedio",
            finished_date: "Fecha Finalizado",
            podium_title: "Podio de Alumnos",
            no_participants: "Nadie participó en esta sesión",
            total_points: "Puntos Totales",
            print_button: "Imprimir Resultados",
            not_found: "Informe no encontrado"
        },
        auth: {
            login_title: "Acceso Profesores",
            signup_title: "Crear Cuenta",
            login_subtitle: "Gestiona tus quizzes de forma segura.",
            signup_subtitle: "Únete a la plataforma para crear tus propios quizzes.",
            email_label: "Correo Electrónico",
            password_label: "Contraseña",
            email_placeholder: "ejemplo@correo.com",
            login_button: "ENTRAR",
            signup_button: "CREAR CUENTA",
            processing: "Procesando...",
            no_account: "¿No tienes cuenta? Regístrate aquí",
            has_account: "¿Ya tienes cuenta? Inicia sesión",
            back_to_home: "Volver al inicio",
            signup_success: "¡Registro exitoso! Ya puedes iniciar sesión.",
            unexpected_error: "Ocurrió un error inesperado",
            invitation_code_label: "Código de Invitación",
            invitation_code_placeholder: "Ingresa el código secreto",
            error_invalid_invitation: "El código de invitación no es válido"
        }
    },
    en: {
        common: {
            loading: "Loading...",
            error: "An error occurred",
            save: "Save",
            cancel: "Cancel",
            delete: "Delete",
            back: "Back",
            next: "Next",
            finish: "Finish",
            points: "points",
            students: "students",
            questions: "questions",
            logout: "Logout"
        },
        dashboard: {
            title: "My Quizzes",
            subtitle: "Dashboard to manage your activities.",
            create_new: "Create New Quiz",
            no_quizzes: "You don't have any quizzes yet. Create your first one!",
            last_edited: "Last edited:",
            play: "Play",
            present: "PRESENT",
            edit: "Edit",
            delete_confirm: "Delete quiz?",
            delete_confirm_desc: "This action cannot be undone. All questions and associated history will be deleted.",
            empty_title: "Create your first challenge",
            empty_subtitle: "Design interactive questions and share them in seconds.",
            empty_button: "Create now",
            history_empty_title: "No tracks yet",
            history_empty_subtitle: "Your finished sessions will appear here with all their details.",
            table_quiz: "Quiz",
            table_date: "Date",
            table_pin: "Access PIN",
            table_results: "Results",
            history_title: "Session History",
            quizzes_subtitle: "Manage your content and start new sessions.",
            history_subtitle: "Review your students' performance in past sessions.",
            new_quiz: "NEW QUIZ",
            report_button: "REPORT",
            error_launching: "Error starting the session",
            stats_title: "Overview",
            total_quizzes: "Total Quizzes",
            total_sessions: "Total Sessions",
            avg_participation: "Average Participation",
            all_tags: "All"
        },
        sidebar: {
            my_quizzes: "My Quizzes",
            history: "History",
            user: "User",
            logout: "Logout"
        },
        join: {
            title: "Join the Game",
            pin_placeholder: "Game PIN",
            nickname_placeholder: "Your nickname",
            button: "Join",
            invalid_pin: "Invalid PIN"
        },
        play: {
            waiting_title: "You're in!",
            waiting_subtitle: "Get ready. It's about to start.",
            waiting_teacher: "Waiting for the teacher...",
            question: "Question",
            correct: "Correct!",
            incorrect: "Incorrect",
            time_up: "Time's up!",
            total_score: "Total Score",
            rank: "Rank",
            yes: "YES!!!",
            almost: "ALMOST!",
            points_earned: "Points",
            next_adventure: "On to the next one",
            streak_fire: "ANSWERS IN A ROW",
            next_question_coming: "Next question coming...",
            incredible: "Incredible!",
            finished_subtitle: "You've successfully completed the challenge. Here is your result:",
            go_home: "GO HOME",
            thanks: "Thanks for playing QuizzLive",
            loading_question: "Loading question...",
            submit_answer: "SUBMIT ANSWER",
            verify_pairs: "VERIFY PAIRS",
            reset_pairs: "Reset pairs",
            concepts: "Concepts",
            pairs: "Pairs",
            time_left: "Time left"
        },
        analytics: {
            avg_success: "Avg. Success",
            participation: "Total Participants",
            best_question: "Best Question",
            success_by_question: "Success by Question"
        },
        session: {
            title: "Live Session",
            participants: "STUDENTS",
            waiting_message: "Waiting for players...",
            start_button: "Start Quiz",
            next_button: "Next Question",
            finish_button: "Finish Session",
            it_is_time: "It's time",
            to_play: "to play!",
            share_desc: "Share the code with your students or scan the QR to enter instantly.",
            access_code: "Access Code",
            start_action: "START",
            join_now: "Join now",
            question_of: "Question",
            next_action: "NEXT",
            mission_accomplished: "Mission",
            accomplished: "Accomplished!",
            finished_desc: "You have successfully completed the quiz. All data has been saved in the history.",
            view_detailed_analytics: "View Detailed Analytics",
            view_results: "VIEW RESULTS",
            go_back: "BACK",
            expected_answer: "EXPECTED ANSWER",
            waiting_participants: "Waiting for participants...",
            responses: "Responses",
            refresh_participants: "Refresh participants",
            share_session: "Share session",
            leave_session: "Leave session",
            time_remaining: "Time remaining"
        },
        landing: {
            features: "Features",
            how_it_works: "How it works",
            teacher_panel: "Teacher Panel",
            hero_badge: "The future of education is here",
            hero_title_1: "Learn. Play.",
            hero_title_2: "Interact live.",
            hero_subtitle: "Power up your classroom with a real-time quiz platform designed to inspire curiosity and healthy competition. No installations, instant access.",
            student_button: "I'M A STUDENT",
            teacher_button: "I'M A TEACHER",
            feature_1_title: "True Real-Time",
            feature_1_desc: "Instant synchronization between teacher and students without latency.",
            feature_2_title: "100% Secure",
            feature_2_desc: "Protected access for teachers and anonymity for students through nicknames.",
            feature_3_title: "Universal Editor",
            feature_3_desc: "Create questions with images, multiple choice, or true/false in seconds.",
            footer_rights: "© 2026 QuizzLive. All rights reserved.",
            privacy: "Privacy",
            terms: "Terms"
        },
        editor: {
            title: "Quiz Editor",
            quiz_title_placeholder: "Quiz Title...",
            publish_button: "PUBLISH QUIZ",
            save_button: "SAVE CHANGES",
            add_question: "ADD QUESTION",
            question_label: "Question",
            question_placeholder: "Write here...",
            image_url_placeholder: "Image URL (Optional)",
            options_tab: "OPTIONS",
            tf_tab: "T/F",
            sentence_tab: "SENTENCE",
            matching_tab: "MATCHING",
            correct_answer_placeholder: "Correct answer...",
            term_placeholder: "Term",
            match_placeholder: "Match",
            add_pair: "ADD PAIR",
            time_limit: "TIME LIMIT",
            auto_save: "Auto save",
            true_text: "True",
            false_text: "False",
            error_title: "The quiz needs a title",
            error_no_text: "Question {num} has no text",
            error_no_correct: "Question {num} has no correct answer marked",
            error_mismatch: "The correct answer for question {num} does not match any option",
            save_success: "Quiz saved successfully!",
            login_required: "You must log in to save",
            import_button: "IMPORT",
            import_title: "Smart Import",
            import_desc: "Upload an Excel or CSV file to add questions in bulk.",
            import_select_file: "Select File",
            import_template: "Download Template",
            import_success: "{count} questions imported successfully!",
            import_error: "There were errors processing the file"
        },
        reports: {
            title: "Session Report",
            avg_score: "Average Score",
            finished_date: "Finished Date",
            podium_title: "Student Podium",
            no_participants: "No one participated in this session",
            total_points: "Total Points",
            print_button: "Print Results",
            not_found: "Report not found"
        },
        auth: {
            login_title: "Teacher Login",
            signup_title: "Create Account",
            login_subtitle: "Manage your quizzes securely.",
            signup_subtitle: "Join the platform to create your own quizzes.",
            email_label: "Email Address",
            password_label: "Password",
            email_placeholder: "example@email.com",
            login_button: "LOGIN",
            signup_button: "CREATE ACCOUNT",
            processing: "Processing...",
            no_account: "Don't have an account? Sign up here",
            has_account: "Already have an account? Log in",
            back_to_home: "Back to home",
            signup_success: "Sign up successful! You can now log in.",
            unexpected_error: "An unexpected error occurred",
            invitation_code_label: "Invitation Code",
            invitation_code_placeholder: "Enter secret code",
            error_invalid_invitation: "The invitation code is invalid"
        }
    }
};

export const getTranslation = (lang: Language, key: string) => {
    const keys = key.split('.');
    let current: unknown = translations[lang];

    for (const k of keys) {
        if (current === null || typeof current !== 'object') return key;
        const obj = current as Record<string, unknown>;
        if (obj[k] === undefined) return key;
        current = obj[k];
    }

    return typeof current === 'string' ? current : key;
};
